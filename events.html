<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events - Central Academy School, Simdega</title>
    <meta name="description" content="Explore events, celebrations, and activities at Central Academy School, Simdega. View our latest events in Art & Craft, Science, Cultural, and Yoga Day celebrations.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Anime.js for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-orange: #D2691E;
            --warm-copper: #B87333;
            --soft-cream: #FFF8DC;
            --charcoal-gray: #36454F;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--soft-cream);
        }
        
        .page-header {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--warm-copper) 100%);
        }
        
        .filter-btn {
            transition: all 0.3s ease;
        }
        
        .filter-btn.active {
            background-color: var(--primary-orange);
            color: white;
            transform: translateY(-2px);
        }
        
        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(210, 105, 30, 0.3);
        }
        
        .event-card {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .event-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .category-badge {
            backdrop-filter: blur(10px);
        }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
        }
        
        .lightbox {
            backdrop-filter: blur(10px);
        }
        
        .lightbox img {
            max-height: 80vh;
            object-fit: contain;
        }
        
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        @media (max-width: 768px) {
            .events-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }
        
        .search-box {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <img src="school_logo_color.png" alt="Central Academy School Logo" class="h-12 w-auto">
                    <div class="ml-3">
                        <h1 class="text-xl font-bold text-gray-800">Central Academy</h1>
                        <p class="text-sm text-gray-600">Simdega</p>
                    </div>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">Home</a>
                    <a href="about.html" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">About</a>
                    <a href="events.html" class="text-orange-600 font-medium">Events</a>
                    <a href="routine.html" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">Routine</a>
                    <a href="contact.html" class="text-gray-700 hover:text-orange-600 font-medium transition-colors">Contact</a>
                    <a href="admin.html" class="bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors">Admin</a>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button class="nav-toggle text-gray-700 hover:text-orange-600">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Menu -->
            <div class="nav-menu fixed top-16 right-0 h-full w-64 bg-white shadow-lg transform translate-x-full transition-transform duration-300 ease-in-out md:hidden">
                <div class="p-6 space-y-4">
                    <a href="index.html" class="block text-gray-700 hover:text-orange-600 font-medium">Home</a>
                    <a href="about.html" class="block text-gray-700 hover:text-orange-600 font-medium">About</a>
                    <a href="events.html" class="block text-orange-600 font-medium">Events</a>
                    <a href="routine.html" class="block text-gray-700 hover:text-orange-600 font-medium">Routine</a>
                    <a href="contact.html" class="block text-gray-700 hover:text-orange-600 font-medium">Contact</a>
                    <a href="admin.html" class="block bg-orange-600 text-white px-4 py-2 rounded-lg text-center">Admin</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header pt-20 pb-16 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 drop-shadow-lg animate-on-scroll">
                School Events
            </h1>
            <p class="text-xl md:text-2xl mb-8 drop-shadow-md animate-on-scroll">
                Celebrating Learning, Creativity, and Community
            </p>
            
            <!-- Search Box -->
            <div class="max-w-md mx-auto mb-8 animate-on-scroll">
                <div class="search-box rounded-lg p-2">
                    <div class="relative">
                        <input type="text" id="event-search" placeholder="Search events..." 
                               class="w-full pl-10 pr-4 py-2 bg-transparent border-none focus:outline-none text-gray-800">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filter Section -->
    <section class="py-8 bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap justify-center gap-4">
                <button class="filter-btn bg-gray-100 text-gray-700 px-6 py-3 rounded-full font-medium active" data-filter="all">
                    All Events
                </button>
                <button class="filter-btn bg-gray-100 text-gray-700 px-6 py-3 rounded-full font-medium" data-filter="upcoming">
                    Upcoming
                </button>
                <button class="filter-btn bg-gray-100 text-gray-700 px-6 py-3 rounded-full font-medium" data-filter="past">
                    Past Events
                </button>
                <button class="filter-btn bg-gray-100 text-gray-700 px-6 py-3 rounded-full font-medium" data-filter="art-craft">
                    Art & Craft
                </button>
                <button class="filter-btn bg-gray-100 text-gray-700 px-6 py-3 rounded-full font-medium" data-filter="science">
                    Science
                </button>
                <button class="filter-btn bg-gray-100 text-gray-700 px-6 py-3 rounded-full font-medium" data-filter="cultural">
                    Cultural
                </button>
                <button class="filter-btn bg-gray-100 text-gray-700 px-6 py-3 rounded-full font-medium" data-filter="yoga">
                    Yoga Day
                </button>
            </div>
        </div>
    </section>

    <!-- Events Gallery -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="events-grid" id="events-container">
                <!-- Events will be loaded here by JavaScript -->
            </div>
            
            <!-- No Events Message -->
            <div id="no-events" class="text-center py-16 hidden">
                <i class="fas fa-calendar-times text-6xl text-gray-300 mb-4"></i>
                <h3 class="text-2xl font-semibold text-gray-600 mb-2">No events found</h3>
                <p class="text-gray-500">Try adjusting your search or filter criteria.</p>
            </div>
        </div>
    </section>

    <!-- Event Detail Modal -->
    <div id="event-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg max-w-4xl w-full mx-4 max-h-full overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 id="modal-title" class="text-2xl font-bold text-gray-800"></h2>
                    <button id="close-modal" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
                
                <div class="mb-6">
                    <span id="modal-category" class="category-badge bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium mr-2"></span>
                    <span id="modal-date" class="text-gray-600"></span>
                </div>
                
                <p id="modal-description" class="text-gray-700 mb-6"></p>
                
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="modal-images">
                    <!-- Event images will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Image Lightbox -->
    <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 hidden lightbox">
        <div class="relative max-w-4xl max-h-full p-4">
            <img id="lightbox-image" src="" alt="" class="max-w-full max-h-full object-contain">
            <button id="close-lightbox" class="absolute top-4 right-4 text-white text-3xl hover:text-gray-300">&times;</button>
            <button id="prev-image" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-2xl hover:text-gray-300">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button id="next-image" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-2xl hover:text-gray-300">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- School Info -->
                <div>
                    <div class="flex items-center mb-4">
                        <img src="resources/school_logo_color.png" alt="School Logo" class="h-10 w-auto mr-3">
                        <div>
                            <h3 class="text-lg font-bold">Central Academy School</h3>
                            <p class="text-sm text-gray-300">Simdega, Jharkhand</p>
                        </div>
                    </div>
                    <p class="text-gray-300 mb-4">
                        Excellence in Education, Nurturing Young Minds
                    </p>
                    <div class="flex space-x-4">
                        <a href="https://www.instagram.com/simdega_central_academy" class="text-gray-300 hover:text-white transition-colors" target="_blank">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="https://www.facebook.com/share/1GjhwB5vqu" class="text-gray-300 hover:text-white transition-colors" target="_blank">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-lg font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="about.html" class="text-gray-300 hover:text-white transition-colors">About Us</a></li>
                        <li><a href="events.html" class="text-white">Events</a></li>
                        <li><a href="routine.html" class="text-gray-300 hover:text-white transition-colors">Routine</a></li>
                        <li><a href="contact.html" class="text-gray-300 hover:text-white transition-colors">Contact</a></li>
                        <li><a href="admin.html" class="text-gray-300 hover:text-white transition-colors">Admin Login</a></li>
                    </ul>
                </div>
                
                <!-- Contact Info -->
                <div>
                    <h3 class="text-lg font-bold mb-4">Contact Information</h3>
                    <div class="space-y-3">
                        <div class="flex items-center">
                            <i class="fas fa-phone mr-3 text-orange-500"></i>
                            <div>
                                <p>9608508156</p>
                                <p>8789508120</p>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-envelope mr-3 text-orange-500"></i>
                            <a href="mailto:centralacademyschoolsimdega@gmail.com" class="text-gray-300 hover:text-white transition-colors">
                                centralacademyschoolsimdega@gmail.com
                            </a>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-map-marker-alt mr-3 text-orange-500"></i>
                            <p class="text-gray-300">Simdega, Jharkhand</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-gray-300">
                    &copy; 2024 Central Academy School, Simdega. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Main JavaScript -->
    <script src="main.js"></script>
    
    <script>
        // Events page specific functionality
        document.addEventListener('DOMContentLoaded', function() {
            initEventsPage();
        });
        
        function initEventsPage() {
            // Initialize search functionality
            const searchInput = document.getElementById('event-search');
            if (searchInput) {
                searchInput.addEventListener('input', handleEventSearch);
            }
            
            // Initialize modal functionality
            const modal = document.getElementById('event-modal');
            const closeModal = document.getElementById('close-modal');
            
            if (closeModal) {
                closeModal.addEventListener('click', hideEventModal);
            }
            
            // Initialize lightbox
            initLightbox();
            
            // Load events if not already loaded
            if (window.schoolWebsite && window.schoolWebsite.events) {
                renderEventsPage(window.schoolWebsite.events);
            }
        }
        
        function handleEventSearch(e) {
            const searchTerm = e.target.value.toLowerCase();
            const events = window.schoolWebsite.events;
            
            const filteredEvents = events.filter(event => 
                event.title.toLowerCase().includes(searchTerm) ||
                event.description.toLowerCase().includes(searchTerm) ||
                event.category.toLowerCase().includes(searchTerm)
            );
            
            renderEventsPage(filteredEvents);
        }
        
        function renderEventsPage(events) {
            const container = document.getElementById('events-container');
            const noEvents = document.getElementById('no-events');
            
            if (events.length === 0) {
                container.innerHTML = '';
                noEvents.classList.remove('hidden');
                return;
            }
            
            noEvents.classList.add('hidden');
            container.innerHTML = '';
            
            events.forEach(event => {
                const eventCard = createEventCardPage(event);
                container.appendChild(eventCard);
            });
            
            // Animate cards
            anime({
                targets: '.event-card',
                opacity: [0, 1],
                translateY: [30, 0],
                duration: 600,
                delay: anime.stagger(100),
                easing: 'easeOutExpo'
            });
        }
        
        function createEventCardPage(event) {
            const card = document.createElement('div');
            card.className = 'event-card bg-white rounded-lg shadow-lg overflow-hidden animate-on-scroll';
            card.innerHTML = `
                <div class="relative">
                    <img src="${event.images[0]}" alt="${event.title}" class="w-full h-48 object-cover">
                    <div class="absolute top-4 right-4">
                        <span class="category-badge bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium">
                            ${getCategoryName(event.category)}
                        </span>
                    </div>
                    <div class="absolute bottom-4 left-4 right-4">
                        <div class="bg-black bg-opacity-50 text-white p-3 rounded-lg">
                            <h3 class="font-bold text-lg mb-1">${event.title}</h3>
                            <p class="text-sm opacity-90">${formatDate(event.date)}</p>
                        </div>
                    </div>
                </div>
                <div class="p-6">
                    <p class="text-gray-600 mb-4">${event.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-gray-500">
                            <i class="fas fa-images mr-1"></i>${event.images.length} images
                        </span>
                        <button class="view-event-btn bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors" 
                                data-event-id="${event.id}">
                            View Details
                        </button>
                    </div>
                </div>
            `;
            
            // Add click event for viewing event details
            const viewBtn = card.querySelector('.view-event-btn');
            viewBtn.addEventListener('click', () => showEventModal(event));
            
            return card;
        }
        
        function getCategoryName(category) {
            const categories = {
                'art-craft': 'Art & Craft',
                'science': 'Science',
                'cultural': 'Cultural',
                'yoga': 'Yoga Day',
                'upcoming': 'Upcoming',
                'past': 'Past Events'
            };
            return categories[category] || category;
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
        
        function showEventModal(event) {
            const modal = document.getElementById('event-modal');
            const title = document.getElementById('modal-title');
            const category = document.getElementById('modal-category');
            const date = document.getElementById('modal-date');
            const description = document.getElementById('modal-description');
            const images = document.getElementById('modal-images');
            
            title.textContent = event.title;
            category.textContent = getCategoryName(event.category);
            date.textContent = formatDate(event.date);
            description.textContent = event.description;
            
            // Load images
            images.innerHTML = '';
            event.images.forEach(img => {
                const imgElement = document.createElement('img');
                imgElement.src = img;
                imgElement.alt = event.title;
                imgElement.className = 'w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity lightbox';
                images.appendChild(imgElement);
            });
            
            modal.classList.remove('hidden');
            
            // Close modal on outside click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideEventModal();
                }
            });
        }
        
        function hideEventModal() {
            document.getElementById('event-modal').classList.add('hidden');
        }
        
        function initLightbox() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const closeLightbox = document.getElementById('close-lightbox');
            
            // Open lightbox when clicking on images
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('lightbox')) {
                    lightboxImage.src = e.target.src;
                    lightboxImage.alt = e.target.alt;
                    lightbox.classList.remove('hidden');
                }
            });
            
            // Close lightbox
            if (closeLightbox) {
                closeLightbox.addEventListener('click', () => {
                    lightbox.classList.add('hidden');
                });
            }
            
            // Close on outside click
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    lightbox.classList.add('hidden');
                }
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (!lightbox.classList.contains('hidden')) {
                    if (e.key === 'Escape') {
                        lightbox.classList.add('hidden');
                    }
                }
            });
        }
        
        // Filter functionality is handled by main.js
        // But we can add additional page-specific filter logic here if needed
    </script>
</body>
</html>